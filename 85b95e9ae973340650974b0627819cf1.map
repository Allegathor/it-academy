{"version":3,"sources":["../scripts/dyn_form.js"],"names":["formDef1","label","kind","name","variants","text","value","formDef2","createEl","tagName","options","el","document","createElement","prop","createInput","createLabel","txt","innerText","style","createWrap","wrap","createRow","input","row","appendChild","createFormElements","form","data","formEl","forEach","appendFormElements","elProps","i","labelTxt","type","val","rows","console","warn","createForm","method","action","fieldset","body"],"mappings":"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","file":"85b95e9ae973340650974b0627819cf1.map","sourcesContent":["var formDef1=\n[\n\t{label:'Название сайта:',kind:'longtext',name:'sitename'},\n\t{label:'URL сайта:',kind:'longtext',name:'siteurl'},\n\t{label:'Посетителей в сутки:',kind:'number',name:'visitors'},\n\t{label:'E-mail для связи:',kind:'shorttext',name:'email'},\n\t{label:'Рубрика каталога:',kind:'combo',name:'division',\n\tvariants:[{text:'здоровье',value:1},{text:'домашний уют',value:2},{text:'бытовая техника',value:3}]},\n\t{label:'Размещение:',kind:'radio',name:'payment',\n\tvariants:[{text:'бесплатное',value:1},{text:'платное',value:2},{text:'VIP',value:3}]},\n\t{label:'Разрешить отзывы:',kind:'check',name:'votes'},\n\t{label:'Описание сайта:',kind:'memo',name:'description'},\n\t{label:'Опубликовать',kind:'submit'},\n];\n\nvar formDef2=\n[\n\t{label:'Фамилия:',kind:'longtext',name:'lastname'},\n\t{label:'Имя:',kind:'longtext',name:'firstname'},\n\t{label:'Отчество:',kind:'longtext',name:'secondname'},\n\t{label:'Возраст:',kind:'number',name:'age'},\n\t{label:'Зарегистрироваться',kind:'submit'},\n];\n\nvar createEl = function(tagName, options) {\n\tvar el = document.createElement(tagName);\n\n\tif(options) {\n\t\tfor(var prop in options) {\n\t\t\tif(options[prop]!== '') el[prop] = options[prop];\n\t\t}\n\n\t}\n\n\treturn el;\n}\n\nvar createInput = function(options) {\n\treturn createEl('input', options);\n}\n\nvar createLabel = function(txt) {\n\tvar label = createEl('label');\n\tlabel.innerText = txt;\n\tlabel.style = 'flex-basis: 180px;';\n\n\treturn label;\n}\n\nvar createWrap = function() {\n\tvar wrap = document.createElement('div');\n\twrap.style =\n\t\t'display: flex; flex-wrap: wrap; margin-bottom: 8px;';\n\n\treturn wrap;\n}\n\nvar createRow = function(options, txt) {\n\tvar input = createInput(options);\n\tvar label = createLabel(txt);\n\tvar row = createWrap();\n\n\trow.appendChild(label);\n\trow.appendChild(input);\n\n\treturn row;\n}\n\nvar createFormElements = function(form, data) {\n\n\tvar formEl = null;\n\tvar input = null;\n\tvar label = null;\n\n\tdata.forEach(appendFormElements);\n\tfunction appendFormElements(elProps, i) {\n\n\t\tif('kind' in elProps) {\n\t\t\tvar name = elProps.name || '';\n\t\t\tvar labelTxt = elProps.label || '';\n\n\t\t\tvar options = {};\n\n\t\t\tswitch (elProps.kind) {\n\n\t\t\t\tcase 'longtext':\n\t\t\t\t\toptions.type = 'text';\n\t\t\t\t\toptions.name = name;\n\t\t\t\t\toptions.style = 'flex-basis: 60%;';\n\t\t\t\t\tformEl = createRow(options, labelTxt);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'shorttext':\n\t\t\t\t\toptions.type = 'text';\n\t\t\t\t\toptions.name = name;\n\t\t\t\t\toptions.style = 'flex-basis: 30%;';\n\t\t\t\t\tformEl = createRow(options, labelTxt);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'number':\n\t\t\t\t\toptions.type = 'number';\n\t\t\t\t\toptions.name = name;\n\t\t\t\t\toptions.style = 'flex-basis: 12%;';\n\t\t\t\t\tformEl = createRow(options, labelTxt);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'combo':\n\t\t\t\t\toptions.name = name;\n\t\t\t\t\tinput = createEl('select', options);\n\t\t\t\t\tlabel = createLabel(labelTxt);\n\t\t\t\t\tformEl = createWrap();\n\n\t\t\t\t\tif('variants' in elProps) {\n\t\t\t\t\t\telProps.variants.forEach(function(el, i) {\n\t\t\t\t\t\t\tvar txt = el.text || '';\n\t\t\t\t\t\t\tvar val = el.val || '';\n\n\t\t\t\t\t\t\tinput.appendChild(createEl('option', {innerText: txt, value: val}));\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\n\t\t\t\t\tformEl.appendChild(label);\n\t\t\t\t\tformEl.appendChild(input);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'memo':\n\t\t\t\t\toptions = {name: name, rows: 5, style: 'flex-basis: 100%;'};\n\t\t\t\t\tinput = createEl('textarea', options);\n\t\t\t\t\tlabel = createLabel(labelTxt);\n\t\t\t\t\tformEl = createWrap();\n\n\t\t\t\t\tformEl.appendChild(label);\n\t\t\t\t\tformEl.appendChild(input);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'check':\n\t\t\t\t\toptions.type = 'checkbox';\n\t\t\t\t\toptions.name = name;\n\t\t\t\t\tformEl = createRow(options, labelTxt);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'radio':\n\t\t\t\t\toptions.name = name;\n\n\t\t\t\t\tformEl = createWrap();\n\t\t\t\t\tlabel = createLabel(labelTxt);\n\n\t\t\t\t\tformEl.appendChild(label);\n\n\t\t\t\t\tif('variants' in elProps) {\n\t\t\t\t\t\telProps.variants.forEach(function(el, i) {\n\t\t\t\t\t\t\tvar txt = el.text || '';\n\t\t\t\t\t\t\tvar val = el.value || '';\n\n\t\t\t\t\t\t\tformEl.appendChild(createInput({type: 'radio', value: val, name: name}));\n\t\t\t\t\t\t\tformEl.appendChild(createLabel(txt));\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'submit':\n\t\t\t\t\toptions.type = 'submit';\n\t\t\t\t\toptions.value = labelTxt;\n\t\t\t\t\tinput = createInput(options);\n\t\t\t\t\tlabel = createLabel(labelTxt);\n\t\t\t\t\tformEl = createWrap();\n\n\t\t\t\t\tformEl.appendChild(label);\n\t\t\t\t\tformEl.appendChild(input);\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tconsole.warn('Some elements were missed');\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif(formEl) form.appendChild(formEl);\n\t}\n}\n\nvar createForm = function(data, form) {\n\tform = form || document.createElement('form');\n\tform.method = 'POST';\n\tform.action = 'http://fe.it-academy.by/TestForm.php';\n\tform.style = 'width: 60%; margin: 12px auto;';\n\n\tvar fieldset = document.createElement('fieldset');\n\tfieldset.style = 'padding-top: 18px;';\n\tform.appendChild(fieldset);\n\n\tcreateFormElements(fieldset, data);\n\tdocument.body.appendChild(form);\n}\n\n\ncreateForm(formDef1);\ncreateForm(formDef2);\n"]}